<html> 
    <head> 
        <link rel="stylesheet" href="css/nav.css">
        <link rel="stylesheet" href="css/shell.css">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script> 
        <script src="js/python/skulpt.js" type="text/javascript"></script> 
        <script src="js/python/skulpt-stdlib.js" type="text/javascript"></script> 
        <script src="js/codemirror-5.59.2/lib/codemirror.js"></script>
        <script src="js/codemirror-5.59.2/mode/javascript/javascript.js"></script>
        <link rel="stylesheet" href="js/codemirror-5.59.2/lib/codemirror.css">
        <link rel="stylesheet" href="js/codemirror-5.59.2/theme/cobalt.css">
    </head> 

<body> 
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <nav class="topnav">
        <div class="topnav">
            <div class="signin">
                <a onclick="document.getElementById('id01').style.display='block'">Sign In</a>
            </div>
            <a href= 'contact.html'>Contact</a>
            <a href= 'about.html'>About</a>
            <a href= 'index.html'>Home</a>
            <div class="logo">
                <a href='index.html'>LOGO</a>
            </div>
        </div>
    </nav>
    <!--The top nav bar ends here 
        <iframe src="https://trinket.io/embed/python/444170c613" width="100%" height="600" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>
    -->
    <div class="console">
        <form class= "py-editor"> 
            <textarea id="yourcode" cols="40" rows="10">
import turtle

t = turtle.Turtle()
t.forward(100)

user = input("enter name")    
print (user) 
            </textarea><br /> 
            <button type="button" onclick="runit()">Run</button> 
        </form> 
        <!-- If you want turtle graphics include a canvas -->
        <div id="draw-output"></div> 
        <div id="output"></div> 
    </div>
    <script type="text/javascript"> 
        var myTextArea = document.getElementById("yourcode"); 
        var myCodeMirror = CodeMirror.fromTextArea
        (myTextArea, {
            mode:  "python" ,
            theme: "cobalt",
            indentWithTabs: true,
            smartIndent: true,
            lineNumbers: true}); 
        
        //myCodeMirror.openDialog(window.alert("yo"),(text) => document.getElementById("pre").innerHTML= text);

        //var myCodeMirror = CodeMirror.fromTextArea(myTextArea);
        // output functions are configurable.  This one just appends some text
        // to a pre element.
        function outf(text) { 
            var mypre = document.getElementById("output"); 
            mypre.innerHTML = mypre.innerHTML + text; 
        } 
        function builtinRead(x) {
            if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
                    throw "File not found: '" + x + "'";
            return Sk.builtinFiles["files"][x];
        }

        // Here's everything you need to run a python program in skulpt
        // grab the code from your textarea
        // get a reference to your pre element for output
        // configure the output function
        // call Sk.importMainWithBody()
        function runit() { 
            var code = myCodeMirror.getValue();
            var prog = document.getElementById("yourcode").value; 
            var mypre = document.getElementById("output"); 
            mypre.innerHTML = ''; 
            Sk.pre = "output";
            Sk.configure({output:outf, read:builtinRead, inputfun: input,inputfunTakesPrompt: true}); 
            (Sk.TurtleGraphics || (Sk.TurtleGraphics = {})).target = 'draw-output';
            var myPromise = Sk.misceval.asyncToPromise(function() {
                return Sk.importMainWithBody("<stdin>", false, code, true);
            });
            myPromise.then(function(mod) {
                console.log('success');
                mypre.style.color = "black";
                mypre.style.opacity = 1;
            },
                function(err) {
                console.log(err.toString());
                mypre.style.color = "red";
                mypre.innerText = err.toString(); 
            });
        } 
        function input(prompt){
            return new Promise((resolve, reject) => {
                resolve(window.prompt(prompt));
            });
        }
    </script> 
    
</body> 

</html> 